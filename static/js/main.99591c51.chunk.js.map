{"version":3,"sources":["treeStructure.js","App.js","index.js"],"names":["data","App","state","leftTree","rightTree","changeData","obj","result","prop","status","name","push","title","split","pop","subtitle","expanded","children","createUniqueId","tree","walk","treeData","callback","node","id","Math","random","changeColor","leftData","this","left","nodes","rightData","right","setState","getNodeKey","treeIndex","JSON","stringify","className","onChange","generateNodeProps","path","style","color","onClick","tabIndex","length","mirrorNode","ignoreCollapsed","console","log","changeNodeAtPath","newNode","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.99591c51.chunk.js","sourcesContent":["const data = {\n  \"left\": {\n    \"nodes\": {\n      \"EXAMPLE.COM_192.168.0.1\": {\n        \"storage\": [\n          \"EXAMPLE.COM_192.168.0.1-storages-12\",\n          \"EXAMPLE.COM_192.168.0.1-storages-37\",\n          \"EXAMPLE.COM_192.168.0.1-storages-41\"\n        ],\n        \"interfaces\": [\n          \"EXAMPLE.COM_192.168.0.1-snmp-interfaces-eth0\",\n          \"EXAMPLE.COM_192.168.0.1-snmp-interfaces-eth1\",\n          \"EXAMPLE.COM_192.168.0.1-snmp-interfaces-br.lxc-4\"\n        ]\n      },\n      \"Cisco3745new-1.SAMPLE.COM_192.168.0.120\": {\n        \"interfaces\": [\n          \"Cisco3745new-1.SAMPLE.COM_192.168.0.120-snmp-interfaces-eth0\",\n          \"Cisco3745new-1.SAMPLE.COM_192.168.0.120-snmp-interfaces-eth1\",\n          \"Cisco3745new-1.SAMPLE.COM_192.168.0.120-snmp-interfaces-eth2\"\n        ]\n      },\n      \"Cisco3640new-1.SAMPLE.COM_192.168.0.180\": {\n        \"interfaces\": [\n          \"Cisco3640new-1.SAMPLE.COM_192.168.0.180-snmp-interfaces-eth0\",\n          \"Cisco3640new-1.SAMPLE.COM_192.168.0.180-snmp-interfaces-eth1\",\n          \"Cisco3640new-1.SAMPLE.COM_192.168.0.180-snmp-interfaces-eth2\",\n          \"Cisco3640new-1.SAMPLE.COM_192.168.0.180-snmp-interfaces-eth3\"\n        ]\n      }\n    },\n    \"info\": {\n      \"id\": \"Dailysync0d464eb75582c5da0f7b3285d460557dd3d2843a\",\n      \"endTimestamp\": 1534685151333\n    }\n  },\n  \"right\": {\n    \"nodes\": {\n      \"EXAMPLE.COM_192.168.0.1\": {\n        \"status\": \"modified\",\n        \"storage\": {\n          \"status\": \"modified\",\n          \"elements\": [\n            {\n              \"name\": \"EXAMPLE.COM_192.168.0.1-storages-12\",\n              \"status\": \"unchanged\"\n            },\n            {\n              \"name\": \"EXAMPLE.COM_192.168.0.1-storages-37\",\n              \"status\": \"absent\"\n            },\n            {\n              \"name\": \"EXAMPLE.COM_192.168.0.1-storages-38\",\n              \"status\": \"new\"\n            },\n            {\n              \"name\": \"EXAMPLE.COM_192.168.0.1-storages-41\",\n              \"status\": \"absent\" \n            },\n            {\n              \"name\": \"EXAMPLE.COM_192.168.0.1-storages-54\",\n              \"status\": \"new\"\n            },\n            {\n              \"name\": \"EXAMPLE.COM_192.168.0.1-storages-55\",\n              \"status\": \"new\"\n            },\n            {\n              \"name\": \"EXAMPLE.COM_192.168.0.1-storages-56\",\n              \"status\": \"new\"\n            }\n          ]\n        },\n        \"interfaces\": {\n          \"status\": \"modified\",\n          \"elements\": [\n            {\n              \"name\": \"EXAMPLE.COM_192.168.0.1-snmp-interfaces-br.lxc-4\",\n              \"status\": \"modified\",\n              \"changes\": {\n                \"physAddress\": {\n                  \"old\": \"6acbee9c82da\",\n                  \"new\": \"6acbee9b75fd\"\n                }\n              }\n            },\n            {\n              \"name\": \"EXAMPLE.COM_192.168.0.1-snmp-interfaces-eth0\",\n              \"status\": \"unchanged\"\n            },\n            {\n              \"name\": \"EXAMPLE.COM_192.168.0.1-snmp-interfaces-eth1\",\n              \"status\": \"unchanged\"\n            }\n          ]\n        }\n      },\n      \"Cisco3745new-1.SAMPLE.COM_192.168.0.120\": {\n        \"status\": \"absent\"\n      },\n      \"Cisco3640new-1.SAMPLE.COM_192.168.0.180\": {\n        \"status\": \"absent\"\n      },\n      \"Huawei1421_192.168.0.120\": {\n        \"status\": \"new\"\n      }\n    },\n    \"info\": {\n      \"id\": \"Dailysync0d464eb75582c5da0f7b3285d460557dd3d2843a\",\n      \"endTimestamp\": 1534685151333\n    }\n  }\n}\n\nexport default data;\n","import React from 'react';\nimport data from './treeStructure';\nimport SortableTree, { changeNodeAtPath, walk } from 'react-sortable-tree';\nimport 'react-sortable-tree/style.css';\n\nclass App extends React.Component {\n  state = {\n    leftTree: [],\n    rightTree: [],\n  }\n\n  changeData = (obj) => {\n    const result = [];\n\n    for (let prop in obj) {\n      const status = obj[prop].status;\n      delete obj[prop].status;\n \n      switch (typeof obj[prop]) {\n        case 'object':\n          if (obj[prop].name) {\n            result.push({\n              title: obj[prop].name.split('-').pop(),\n              subtitle: status,\n              expanded: false,\n            });\n          } else {\n            result.push({\n              title: prop,\n              subtitle: status,\n              expanded: false,\n              children: this.changeData(obj[prop]),\n            })\n          }\n          break;\n        case 'string':\n          result.push({\n            title: obj[prop].split('-').pop(),\n          });\n          break;\n        default:\n          return '';\n      }\n    }\n\n    return result;\n  }\n\n  componentDidMount() {\n    const leftData = this.changeData(data.left.nodes);\n    const rightData = this.changeData(data.right.nodes);\n\n    this.setState({\n      leftTree: leftData,\n      rightTree: rightData,\n    })\n  }\n\n  createUniqueId = (tree) => {\n    walk({\n      treeData: tree,\n      callback: (node) => {\n        node.id = Math.random();\n      }\n    })\n  }\n\n  changeColor = (prop) => {\n    switch(prop) {\n      case 'absent': return 'red';\n      case 'modified': return '#FFD700';\n      case 'new': return 'green';\n      default: return '';\n    }\n  }\n\n  render() {\n    const { leftTree, rightTree } = this.state;\n    const getNodeKey = ({ node, treeIndex }) => `${treeIndex}` + JSON.stringify(node);\n\n    return (\n      <div className=\"App\">\n        <SortableTree\n          treeData={leftTree}\n          onChange={(leftTree) => this.setState({ leftTree })}\n          getNodeKey={getNodeKey}\n          generateNodeProps={({ node, path }) => {\n            return {\n              style: { color: `${this.changeColor(node.subtitle)}`},\n              title: `${node.title}`,\n              onClick: () => {\n                const title = node.title;\n                const tabIndex = path[path.length - 1][0];\n                let mirrorNode = null;\n                walk({\n                  treeData: rightTree,\n                  getNodeKey,\n                  callback: (node) => {\n                    if (node.node.title === title && node.path[path.length - 1][0] === tabIndex) {\n                      mirrorNode = node.node;\n                    }\n                  },\n                  ignoreCollapsed: true,\n                })\n                console.log(path[path.length - 1][0]);\n                console.log(node);\n                console.log(mirrorNode);\n                if (mirrorNode) {\n                  mirrorNode.expanded = !mirrorNode.expanded;\n                }\n\n                this.setState(state => ({\n                  leftTree: changeNodeAtPath({\n                    treeData: state.leftTree,\n                    path,\n                    getNodeKey,\n                    newNode: { ...node, expanded: !node.expanded },\n                  }),\n                }));\n              },\n            };\n          }}\n        />\n        <SortableTree\n          treeData={rightTree}\n          onChange={(rightTree) => this.setState({ rightTree })}\n          getNodeKey={getNodeKey}\n          generateNodeProps={({ node, path }) => {\n            return {\n              style: { color: `${this.changeColor(node.subtitle)}`},\n              title: `${node.title}`,\n              onClick: () => {\n                const title = node.title;\n                const tabIndex = path[path.length - 1][0];\n                let mirrorNode = null;\n                walk({\n                  treeData: leftTree,\n                  getNodeKey,\n                  callback: (node) => {\n                    if (node.node.title === title && node.path[path.length - 1][0] === tabIndex) {\n                      mirrorNode = node.node;\n                    }\n                  },\n                  ignoreCollapsed: true,\n                })\n\n                console.log(path[path.length - 1][0]);\n                console.log(node);\n                console.log(mirrorNode);\n\n                if (mirrorNode) {\n                  mirrorNode.expanded = !mirrorNode.expanded;\n                }\n\n                this.setState(state => ({\n                  rightTree: changeNodeAtPath({\n                    treeData: state.rightTree,\n                    path,\n                    getNodeKey,\n                    newNode: { ...node, expanded: !node.expanded },\n                  }),\n                }));\n              },\n            };\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}